{
  "info": "Конфигурация стойки POMP проекта 12700",
  "version": "1.0",
  "log" : { "level": "debug" },
  "devices":
  [
        { "name": "12700 OPA line 119", "id": 3, "driver": "lib/libproj_12700_opa_aggregate.so", "description": "119",
            "ifc": "udp", "enable": true,
            "dev_params": { "reset_timeout": 10, "start_register": "0x0400", "last_register": "0x0490" },
            "ifc_params": { "host": "172.16.4.246", "recv_port": 6031, "send_port": 5031 }            
        },
        
        { "name": "12700 OPA line 122", "id": 4, "driver": "lib/libproj_12700_opa_aggregate.so", "description": "122",
            "ifc": "rs", "enable": true,
            "dev_params": { "reset_timeout": 10, "start_register": "0x04A0", "last_register": "0x0540" },
            "ifc_params": { "portname": "ttyS4", "baudrate": 19200, "databits": 8, "parity": 0, "stopbits": 2, "flowcontrol": 0  },
            "ifc_params_udp": { "host": "172.16.4.244", "recv_port": 6032, "send_port": 5032 }            
        },
        
        { "name": "12700 OPA line 218", "id": 5, "driver": "lib/libproj_12700_opa_aggregate.so", "description": "218",
            "ifc": "udp", "enable": true,
            "dev_params": { "reset_timeout": 10, "start_register": "0x0540", "last_register": "0x05D0" },
            "ifc_params": { "host": "172.16.4.246", "recv_port": 6032, "send_port": 5032 },
            "ifc_params_rs": { "portname": "ttyS6", "baudrate": 19200, "databits": 8, "parity": 0, "stopbits": 2, "flowcontrol": 0 }            
        },
        { "name": "ISE Receiver", "id": 6, "driver": "lib/libinterserver_exchange_receiver.so", "description": "",
            "ifc": "udp", "enable": true,
            "dev_params": { "reset_timeout": 10, "iseid": "0x0100" },
            "ifc_params": { "recv_port": 35580, "send_port": 35580 }            
        }
        
  ],
  "storages":
  [
        { "id": 1, "name": "local", "type": "database", "driver": "lib/libpgdb_stored_proc.so", "enable": false,
          "params": {"host": "172.16.4.61", "port": 5432, "db": "tank_db", "user": "postgres", "pass": "postgres"} },
        { "id": 2, "name": "PG Agggreagte", "type": "database", "driver": "lib/libpgdb_stored_proc_aggregate.so", "enable": true,
          "params": {"host": "172.16.4.198", "port": 5432, "db": "cms_db", "user": "postgres", "pass": "postgres"} }
  ],
  "users":
  [
        { "id": 1, "name": "guest", "rights": { "signals": "r", "config": "" } },
        { "id": 2, "name": "admin", "pass": "123", "rights": { "signals": "rw", "config": "r" } },
        { "id": 3, "name": "engineer", "pass": "123", "rights": { "signals": "rw", "config": "rw" } }
  ],
  "interacts":
  [
        { "id": 1, "name": "WEB сервер",            "driver": "lib/libweb_server.so",   "enable": true,     "users": "all",     "params": {"port": 8080, "html": "html/", "index": "index.html"} },     
        { "id": 2, "name": "Сервер обмена данными", "driver": "lib/libweb_server.so",   "enable": false,    "users": [1,2,3],   "params": {"port": 8080, "html": "html/", "index": "index.html"} },
        { "id": 3, "name": "Управление сервером",   "driver": "lib/libweb_server.so",   "enable": false,    "users": [2,3],     "params": {"port": 8080, "html": "html/", "index": "index.html"} }
  ],
  "signals":
  [
    { "group": "12700", "enable": true, 
        "signals":
        [
            { "group": "OPA", "enable": true, "timeout": 0, "type": "D",
                "signals":
                [
                    { "group": "119", "enable": true, "device": 3,	"storages":[2],
                        "signals":
                        [
                            { "group": "0x02",  "tag": "0x02", "enable": true, "file": "signals/12700/OPA/119_0x02.json", "comment": "сигналы с типом 0x02 информация из пожарной сигнализации"  },
                            { "group": "0x03",  "tag": "0x03", "enable": true, "file": "signals/12700/OPA/119_0x03.json", "comment": "сигналы с типом 0x03 об уровне пожарной опасности" },
                            { "name": "POMP_SS1_119_STATUS", "id":2426,	"tag": "status", "description": "Состояние лини передачи данных СС1-119" },
                            { "name": "FI20_SS1_119", "id":915,	"tag": "0x19", "params": { "byte":"0" },	"description": "Информация о неисправности на линии связи СС1-119" }
                        ]
                    },
                    
                    { "group": "122", "enable": true, "device": 4,	"storages":[2],
                        "signals":
                        [
                            { "group": "0x02",  "tag": "0x02", "enable": true, "file": "signals/12700/OPA/122_0x02.json", "comment": "сигналы с типом 0x02 информация из пожарной сигнализации"  },
                            { "name": "POMP_SS1_122_STATUS", "id":2427,	"tag": "status", "description": "Состояние лини передачи данных СС1-122" },
                            { "name": "FI20_SS1_122", "id":916,	"tag": "0x19", "params": { "byte":"0" },	"description": "Информация о неисправности на линии связи СС1-122" }
                        ]
                    },

                    { "group": "218", "enable": true, "device": 5, "tag": "0x02", "storages":[2], "file": "signals/12700/OPA/218_0x02.json", "comment": "сигналы с типом 0x02"  }
                ]
            },
            { "group": "OHT", "device": 6, "enable": false,
                "signals":
                [
                    {"group": "119", "tag": "", "file": ""},
                    {"group": "119", "tag": "0x03", "file": ""}
                ]
            }
        ]  
    }
  ]
}
